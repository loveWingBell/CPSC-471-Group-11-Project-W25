{% extends "base.html" %}

{% block content %}

    {% if user.is_authenticated %}
        <h2>Patients</h2>
        <table class="table table-striped table-hover table-bordered table-sm">
            <thead class="table-success">
                <tr>
                    <th scope="col">ID</th>
                    <th scope="col">Full Name</th>
                    <th scope="col">Healthcare Number</th>
                    <th scope="col">Birthday</th>
                    <th scope="col">Gender</th>
                    <th scope="col">Insurance</th>
                    <th scope="col">Phone Number</th>
                    <th scope="col">Address</th>
                    <th scope="col">Emergency Contact</th>
                </tr>
            </thead>
            <tbody>
                {% if patients %}
                    {% for patient in patients %}
                        <tr>
                            <td>{{ patient.id }}</td>
                            <td>{{ patient.user.first_name }} {{ patient.user.last_name }}</td>
                            <td>{{ patient.healthcare_number }}</td>
                            <td>{{ patient.birthday }}</td>
                            <td>{{ patient.gender }}</td>
                            <td>{{ patient.insurance }}</td>
                            <td>{{ patient.phone_number }}</td>
                            <td>{{ patient.address }}</td>
                            <td>{{ patient.emergency_contact }}</td>
                        </tr>
                    {% endfor %}
                {% endif %}
            </tbody>
        </table>
        <a href="{% url "add_patient" %}" class="btn btn-secondary">Add Patient</a>

    {% else %}

        <div class="col-md-6 offset-md-3">
            <h1>Doctor Login</h1>
            <br/>
            
            <form method="POST" action="{% url 'doctor-dashboard' %}">
                {% csrf_token %}
            
                <div class="mb-3">
                    <input type="text" class="form-control" name="username", placeholder="Username" required>
                </div><br/>
                <div class="mb-3">
                    <input type="password" class="form-control" name="password", placeholder="Password" required>
                </div>
                <br/>
                <button type="submit" class="btn btn-secondary">Login</button>
            
            </form>
        </div>
    {% endif %}
{% endblock content %}